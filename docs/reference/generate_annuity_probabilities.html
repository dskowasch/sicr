<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create matrix of future mortality probabilities — generate_annuity_probabilities • sicr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create matrix of future mortality probabilities — generate_annuity_probabilities"><meta name="description" content="Creates a matrix with one row per annuitiy and mortality probabilities in columns."><meta property="og:description" content="Creates a matrix with one row per annuitiy and mortality probabilities in columns."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sicr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/sicr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create matrix of future mortality probabilities</h1>

      <div class="d-none name"><code>generate_annuity_probabilities.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a matrix with one row per annuitiy and mortality probabilities in columns.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_annuity_probabilities</span><span class="op">(</span><span class="va">annuities</span>, <span class="va">mortality</span>, <span class="va">age_shift</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-annuities">annuities<a class="anchor" aria-label="anchor" href="#arg-annuities"></a></dt>
<dd><p>dataframe, see description of <code>pool_of_annuities</code> in details of <code><a href="prepare_data.html">prepare_data()</a></code>.</p></dd>


<dt id="arg-mortality">mortality<a class="anchor" aria-label="anchor" href="#arg-mortality"></a></dt>
<dd><p>dataframe, see description of <a href="mortality_xmpl.html">mortality_xmpl</a>.</p></dd>


<dt id="arg-age-shift">age_shift<a class="anchor" aria-label="anchor" href="#arg-age-shift"></a></dt>
<dd><p>dataframe, see description of <a href="age_shift_xmpl.html">age_shift_xmpl</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>dataframe with one row per row in 'annuities' and 130 columns for future mortality probabilities.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In order to reduce computing time when rolling out annuities, they are split into two matrices, one with agreed
future payments and one with the corresponding survival probabilities. This is the function for the latter. <br><br>
The function uses the biometric entries of the dataframe <code>annuities</code> to
create the matrix of the corresponding probabilities. <br><br>
The first column is always 0 due to the assumption that annuities are paid in advance at the start of the year. <br><br></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># this example uses data provided with this package</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">minimal_active_annuities_xmpl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Claim_id Annuity_id Origin_year Calendar_year Entering_year Annuity_start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Claim#43          1        2006          2023          2009          2009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Claim#51          1        2010          2023          2013          2036</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Claim#13          1        1990          2023          1992          1992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Annuity_end Birth_year Gender Annual_payment Dynamic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           0       1939      m       12168.21       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        2051       1986      m       12893.00       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           0       1958      w       11807.36       0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># show only the first 10 columns</span></span></span>
<span class="r-in"><span><span class="fu">generate_annuity_probabilities</span><span class="op">(</span>annuities <span class="op">=</span> <span class="va">minimal_active_annuities_xmpl</span>,</span></span>
<span class="r-in"><span>                               mortality <span class="op">=</span> <span class="va">mortality_xmpl</span>,</span></span>
<span class="r-in"><span>                               age_shift <span class="op">=</span> <span class="va">age_shift_xmpl</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1]      [,2]      [,3]      [,4]      [,5]      [,6]      [,7]      [,8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0 0.2868083 0.4937320 0.6423048 0.7484672 0.8239585 0.8773790 0.9149971</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    0 0.1136917 0.2174082 0.3115931 0.3967347 0.4733544 0.5419961 0.6032160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    0 0.1839400 0.3364235 0.4623482 0.5659430 0.6508416 0.7201519 0.7765189</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,9]     [,10]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.9413576 0.9597385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.6575737 0.7056247</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.8221835 0.8590354</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dirk Skowasch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

