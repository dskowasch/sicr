<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate for future annuities stemming from small claims — generate_small_claims_annuities_parameters • sicr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate for future annuities stemming from small claims — generate_small_claims_annuities_parameters"><meta name="description" content="Payments for future annuities are an important part of the large claims simulation. But depending on the threshold
annuities may also be a part of the estimation for small claims. This could be the case if the annuity belongs to a
claim that has never exceeded the threshold or if the annuity has been created in the years before a claim
exceeds the threshold.
There may be several ways to estimate the future payments for this part. This implementation uses the historic
annuities that have been created for small claims to predict a number of future annuities per origin and development
year by an additive method. This number will then be multiplied with a mean annuity.
This function provides the parameters for this method using the input data that should be given anyway if large claims
are simulated.
In the second step, these parameters can be used by the function generate_small_claims_future_annuities()."><meta property="og:description" content="Payments for future annuities are an important part of the large claims simulation. But depending on the threshold
annuities may also be a part of the estimation for small claims. This could be the case if the annuity belongs to a
claim that has never exceeded the threshold or if the annuity has been created in the years before a claim
exceeds the threshold.
There may be several ways to estimate the future payments for this part. This implementation uses the historic
annuities that have been created for small claims to predict a number of future annuities per origin and development
year by an additive method. This number will then be multiplied with a mean annuity.
This function provides the parameters for this method using the input data that should be given anyway if large claims
are simulated.
In the second step, these parameters can be used by the function generate_small_claims_future_annuities()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sicr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/sicr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate for future annuities stemming from small claims</h1>

      <div class="d-none name"><code>generate_small_claims_annuities_parameters.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Payments for future annuities are an important part of the large claims simulation. But depending on the threshold
annuities may also be a part of the estimation for small claims. This could be the case if the annuity belongs to a
claim that has never exceeded the threshold or if the annuity has been created in the years before a claim
exceeds the threshold. <br><br>
There may be several ways to estimate the future payments for this part. This implementation uses the historic
annuities that have been created for small claims to predict a number of future annuities per origin and development
year by an additive method. This number will then be multiplied with a mean annuity. <br><br>
This function provides the parameters for this method using the input data that should be given anyway if large claims
are simulated. <br>
In the second step, these parameters can be used by the function <code><a href="generate_small_claims_future_annuities.html">generate_small_claims_future_annuities()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_small_claims_annuities_parameters</span><span class="op">(</span></span>
<span>  <span class="va">pool_of_annuities</span>,</span>
<span>  <span class="va">large_claims_list</span>,</span>
<span>  <span class="va">special_claims</span>,</span>
<span>  <span class="va">indices</span>,</span>
<span>  <span class="va">small_claims_reserved</span>,</span>
<span>  <span class="va">age_shift</span>,</span>
<span>  <span class="va">mortality</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pool-of-annuities">pool_of_annuities<a class="anchor" aria-label="anchor" href="#arg-pool-of-annuities"></a></dt>
<dd><p>Dataframe of all historic annuities, see description of <code>pool_of_annuities</code> in
details of <code><a href="prepare_data.html">prepare_data()</a></code>.</p></dd>


<dt id="arg-large-claims-list">large_claims_list<a class="anchor" aria-label="anchor" href="#arg-large-claims-list"></a></dt>
<dd><p>Dataframe of large claims generated with <code><a href="generate_claims_list.html">generate_claims_list()</a></code>.</p></dd>


<dt id="arg-special-claims">special_claims<a class="anchor" aria-label="anchor" href="#arg-special-claims"></a></dt>
<dd><p>Dataframe with special claims, see details of <code><a href="compute_special_claims.html">compute_special_claims()</a></code>.</p></dd>


<dt id="arg-indices">indices<a class="anchor" aria-label="anchor" href="#arg-indices"></a></dt>
<dd><p>Dataframe for indexation, see details of <code><a href="prepare_data.html">prepare_data()</a></code>.</p></dd>


<dt id="arg-small-claims-reserved">small_claims_reserved<a class="anchor" aria-label="anchor" href="#arg-small-claims-reserved"></a></dt>
<dd><p>Numeric matrix of small claims reserves with origin years as rows and calendar
years as columns. This matrix can be generated as difference from the all claims' triangle and the large and special
claims triangle. Rownames must be the origin years. The reserves serve as volume measure for the additive method.</p></dd>


<dt id="arg-age-shift">age_shift<a class="anchor" aria-label="anchor" href="#arg-age-shift"></a></dt>
<dd><p>Dataframe, see description of <a href="age_shift_xmpl.html">age_shift_xmpl</a>.</p></dd>


<dt id="arg-mortality">mortality<a class="anchor" aria-label="anchor" href="#arg-mortality"></a></dt>
<dd><p>Dataframe, see description of <a href="mortality_xmpl.html">mortality_xmpl</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of two numeric parameter vectors:<br></p><ol><li><p><code>factors_additive_method</code> which can be applied to the small claims reserves to predict the future number of small
claims' annuities.</p></li>
<li><p><code>mean_small_claims_annuity</code> which is multiplied to the future number of small claims' annuities.</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># this example uses data provided with this package.</span></span></span>
<span class="r-in"><span><span class="co"># A few preparing steps are necessary to generate the needed arguments from the example</span></span></span>
<span class="r-in"><span><span class="co"># objects provided with this package.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The claims with claim_ids Claim#43, Claim#44 and Claim#68 are identified as special claims.</span></span></span>
<span class="r-in"><span><span class="va">special_claims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Claim_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Claim#43"</span>, <span class="st">"Claim#44"</span>, <span class="st">"Claim#68"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Reserve2BE_percentage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.5</span>, <span class="fl">1.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Rollout_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"linear"</span>, <span class="st">"constant"</span>, <span class="st">"external"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Pattern_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">external_patterns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create large claims list</span></span></span>
<span class="r-in"><span><span class="va">extended_claims_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_data</a></span><span class="op">(</span>claims_data <span class="op">=</span> <span class="va">claims_data_xmpl</span>,</span></span>
<span class="r-in"><span>                                     indices <span class="op">=</span> <span class="va">indices_xmpl</span>,</span></span>
<span class="r-in"><span>                                     threshold <span class="op">=</span> <span class="fl">400000</span>,</span></span>
<span class="r-in"><span>                                     first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                     last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                     expected_year_of_growing_large <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                                     reserve_classes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">200001</span>, <span class="fl">400001</span>, <span class="fl">700001</span>, <span class="fl">1400001</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                     pool_of_annuities <span class="op">=</span> <span class="va">pool_of_annuities_xmpl</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># remove special claims from extended_claims_data</span></span></span>
<span class="r-in"><span><span class="va">extended_large_claims_data</span> <span class="op">&lt;-</span> <span class="va">extended_claims_data</span><span class="op">[</span></span></span>
<span class="r-in"><span>               <span class="va">extended_claims_data</span><span class="op">$</span><span class="va">Claim_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">special_claims</span><span class="op">$</span><span class="va">Claim_id</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">large_claims_reserved</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_triangle.html">generate_triangle</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">extended_large_claims_data</span>,</span></span>
<span class="r-in"><span>                                                    col_name <span class="op">=</span> <span class="st">"Cl_reserve"</span>,</span></span>
<span class="r-in"><span>                                                    first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                                    last_orig_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">large_claims_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_claims_list.html">generate_claims_list</a></span><span class="op">(</span>extended_claims_data <span class="op">=</span> <span class="va">extended_claims_data</span>,</span></span>
<span class="r-in"><span>                                          first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                          last_orig_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result_special_claims</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_special_claims.html">compute_special_claims</a></span><span class="op">(</span>special_claims <span class="op">=</span> <span class="va">special_claims</span>,</span></span>
<span class="r-in"><span>                                                extended_claims_data <span class="op">=</span> <span class="va">extended_claims_data</span>,</span></span>
<span class="r-in"><span>                                                first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                                last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                                end_of_tail <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                                                external_patterns <span class="op">=</span> <span class="va">external_patterns</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">special_claims_reserved</span> <span class="op">&lt;-</span> <span class="va">result_special_claims</span><span class="op">$</span><span class="va">special_claims_reserved</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">small_claims_reserved</span> <span class="op">&lt;-</span> <span class="va">all_claims_reserved_xmpl</span> <span class="op">-</span></span></span>
<span class="r-in"><span>                     <span class="va">large_claims_reserved</span> <span class="op">-</span> <span class="va">special_claims_reserved</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># apply these objects as arguments to the function</span></span></span>
<span class="r-in"><span><span class="fu">generate_small_claims_annuities_parameters</span><span class="op">(</span></span></span>
<span class="r-in"><span>               pool_of_annuities <span class="op">=</span> <span class="va">pool_of_annuities_xmpl</span>,</span></span>
<span class="r-in"><span>               large_claims_list <span class="op">=</span> <span class="va">large_claims_list</span>,</span></span>
<span class="r-in"><span>               special_claims <span class="op">=</span> <span class="va">special_claims</span>,</span></span>
<span class="r-in"><span>               indices <span class="op">=</span> <span class="va">indices_xmpl</span>,</span></span>
<span class="r-in"><span>               small_claims_reserved <span class="op">=</span> <span class="va">small_claims_reserved</span>,</span></span>
<span class="r-in"><span>               age_shift <span class="op">=</span> <span class="va">age_shift_xmpl</span>,</span></span>
<span class="r-in"><span>               mortality <span class="op">=</span> <span class="va">mortality_xmpl</span><span class="op">)</span><span class="co">#'</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $factors_additive_method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.000000e+00 2.422744e-09 4.092246e-09 4.982780e-09 2.524585e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] 3.428258e-09 3.524056e-09 3.595645e-09 9.185317e-10 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] 0.000000e+00 1.013291e-09 2.104959e-09 1.091693e-09 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 1.396735e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] 1.471793e-09 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mean_small_claims_annuity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 5.130901e+03 4.338298e+03 3.558303e+03 2.999005e+03 2.475677e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [6] 1.928619e+03 1.975292e+03 1.710160e+03 1.447696e+03 1.256395e+03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11] 1.046982e+03 9.077445e+02 7.877919e+02 6.765069e+02 6.701865e+02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [16] 5.596239e+02 4.828530e+02 4.684175e+02 4.012094e+02 3.431339e+02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21] 2.930073e+02 2.497965e+02 2.125984e+02 2.047202e+02 1.904248e+02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] 1.448504e+02 1.212692e+02 1.184317e+02 9.508415e+01 8.034766e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] 6.769978e+01 5.624445e+01 4.713921e+01 3.939037e+01 3.054556e+01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36] 2.544054e+01 2.112368e+01 1.748476e+01 1.200090e+01 8.919841e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41] 7.355948e+00 6.046673e+00 4.954224e+00 1.253242e-01 9.359556e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46] 6.963949e-02 5.162699e-02 3.813234e-02 2.805016e-02 2.056652e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] 1.502370e-02 1.093412e-02 7.928328e-03 5.727561e-03 4.122323e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [56] 2.955908e-03 2.111804e-03 1.503158e-03 1.065965e-03 7.531253e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61] 5.301217e-04 3.717626e-04 2.597375e-04 1.807919e-04 1.246172e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [66] 8.612648e-05 5.929872e-05 4.067222e-05 2.778992e-05 1.891498e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] 1.282008e-05 8.658823e-06 5.825389e-06 3.874950e-06 2.587054e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] 1.720297e-06 1.139321e-06 7.514819e-07 4.936335e-07 3.221606e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81] 2.099067e-07 1.361868e-07 8.797930e-08 5.659049e-08 3.624144e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [86] 2.310710e-08 1.466705e-08 7.636305e-09 4.861432e-09 3.078705e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] 1.939469e-09 1.215336e-09 7.575225e-10 4.696450e-10 2.896045e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [96] 1.776194e-10 1.083450e-10 6.572872e-11 3.965588e-11 2.379449e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [111] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [116] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126] 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dirk Skowasch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

