<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute everything belonging to the chosen special claims — compute_special_claims • sicr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute everything belonging to the chosen special claims — compute_special_claims"><meta name="description" content="This function computes every needed information about the chosen special claims in one step."><meta property="og:description" content="This function computes every needed information about the chosen special claims in one step."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sicr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/sicr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute everything belonging to the chosen special claims</h1>

      <div class="d-none name"><code>compute_special_claims.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function computes every needed information about the chosen special claims in one step.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_special_claims</span><span class="op">(</span></span>
<span>  <span class="va">special_claims</span>,</span>
<span>  <span class="va">extended_claims_data</span>,</span>
<span>  <span class="va">first_orig_year</span>,</span>
<span>  <span class="va">last_orig_year</span>,</span>
<span>  <span class="va">end_of_tail</span>,</span>
<span>  external_patterns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  active_annuities <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  age_shift <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mortality <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reinsurance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  indices <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-special-claims">special_claims<a class="anchor" aria-label="anchor" href="#arg-special-claims"></a></dt>
<dd><p>Dataframe with special claims, see details.</p></dd>


<dt id="arg-extended-claims-data">extended_claims_data<a class="anchor" aria-label="anchor" href="#arg-extended-claims-data"></a></dt>
<dd><p>Prepared claims data dataframe, see details of <code><a href="prepare_data.html">prepare_data()</a></code>. <br> It is not necessary to
reduce this dataframe to special claims, this will be done by the function.</p></dd>


<dt id="arg-first-orig-year">first_orig_year<a class="anchor" aria-label="anchor" href="#arg-first-orig-year"></a></dt>
<dd><p>Integer value for the first origin year, will be treated as the first observed calendar year.</p></dd>


<dt id="arg-last-orig-year">last_orig_year<a class="anchor" aria-label="anchor" href="#arg-last-orig-year"></a></dt>
<dd><p>Integer value for the last origin year which will also be treated as the last calendar year,
usually the calendar year that just ended.</p></dd>


<dt id="arg-end-of-tail">end_of_tail<a class="anchor" aria-label="anchor" href="#arg-end-of-tail"></a></dt>
<dd><p>Chosen development year of tail end.</p></dd>


<dt id="arg-external-patterns">external_patterns<a class="anchor" aria-label="anchor" href="#arg-external-patterns"></a></dt>
<dd><p>List of external patterns that can be referred to in <code>special_claims</code>, see details. Default: NULL<br>
Only necessary if special_claims$type is set to external.</p></dd>


<dt id="arg-active-annuities">active_annuities<a class="anchor" aria-label="anchor" href="#arg-active-annuities"></a></dt>
<dd><p>Dataframe of active annuities, see <a href="active_annuities_xmpl.html">active_annuities_xmpl</a>. Default: NULL.<br>
Only necessary if annuities shall be considered.</p></dd>


<dt id="arg-age-shift">age_shift<a class="anchor" aria-label="anchor" href="#arg-age-shift"></a></dt>
<dd><p>Dataframe, see description of <a href="age_shift_xmpl.html">age_shift_xmpl</a>. Default: NULL <br>
Only necessary if annuities shall be considered.</p></dd>


<dt id="arg-mortality">mortality<a class="anchor" aria-label="anchor" href="#arg-mortality"></a></dt>
<dd><p>Dataframe, see description of <a href="mortality_xmpl.html">mortality_xmpl</a>. Default: NULL <br>
Only necessary if annuities shall be considered.</p></dd>


<dt id="arg-reinsurance">reinsurance<a class="anchor" aria-label="anchor" href="#arg-reinsurance"></a></dt>
<dd><p>Dataframe with reinsurance information, see details of <code><a href="xl_cashflow.html">xl_cashflow()</a></code> or <a href="reinsurance_xmpl.html">reinsurance_xmpl</a>. Default: NULL<br>
Only necessary if reinsurance shall be considered.</p></dd>


<dt id="arg-indices">indices<a class="anchor" aria-label="anchor" href="#arg-indices"></a></dt>
<dd><p>Dataframe for indexation, see details of <code><a href="prepare_data.html">prepare_data()</a></code>. Default: NULL<br>
Only necessary if reinsurance shall be considered.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>List of matrices. Each matrix consists of one row per year between <code>first_orig_year</code> and <code>last_orig_year</code> but the count of
columns varies (with n be the number of origin years): <br></p><ol><li><p><code>special_claims_payments</code> with historic and future claim payments (250 + n columns)</p></li>
<li><p><code>special_claims_reserved</code> with historic claims reserves (n columns)</p></li>
<li><p><code>special_annuities_payments</code> with historic and future annuity payments (250 + n columns)</p></li>
<li><p><code>special_annuities_reserved</code> with historic annuities reserves (n columns)</p></li>
<li><p><code>special_ceded_quota_payments</code> with historic and future payments from the quota share reinsurance contract (250 + n columns)</p></li>
<li><p><code>special_ceded_xl_payments</code> with historic and future payments from the xl reinsurance contract (250 + n columns)</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Some claims differ to historic claims so much that they cannot be reserved with the available pools. This mostly
applies to very large claims that have not been observed yet hence there is no adequate historic data of similar
claims in the pools. These claims must be separated and projected deterministically. <br><br>
This package comes with some graphic options to identify special claims. After this process, the dataframe
<code>special_claims</code> must be created with one row per special claim and the following columns:</p><ul><li><p><code>Claim_id</code> <br> type: character. Unique claim id.</p></li>
<li><p><code>Reserve2BE_percentage</code> <br> type: numeric. This number will be multiplied with the latest claim reserve to calculate
the best estimate reserve, e.g. 0.8 if 80% of the reserve will be needed for future payments.</p></li>
<li><p><code>Rollout_type</code> <br> type: character. One of <code>linear</code>, <code>constant</code> or <code>external</code>.</p><ul><li><p><code>linear</code> means that the payments will decrease evenly and reach 0 at <code>end_of_tail</code>. The sum is the desired best estimate.</p></li>
<li><p><code>constant</code> means equal payments until <code>end_of_tail</code> that add to the desired best estimate.</p></li>
<li><p><code>external</code> means that the best estimate is rolled out by an external pattern. The patterns must be specified
in the list <code>external_patterns</code>. If <code>external</code> is chosen, the column <code>Pattern_id</code> is used.</p></li>
</ul></li>
<li><p><code>Pattern_id</code> type: integer. The number of the element of list <code>external_patterns</code> where the desired
external pattern is specified.</p></li>
</ul><p>The list <code>external_patterns</code> specifies the external patterns that special_claims$Pattern_id refers to. Hence this list
must at least contain <code>max(special_claims$Pattern_id)</code> elements. <br>
Each element is a numeric vector with future payments as a percentage of the best estimate reserve. Sum of vector must be 1.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># this example uses data provided with this package</span></span></span>
<span class="r-in"><span><span class="va">extended_claims_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_data</a></span><span class="op">(</span>claims_data <span class="op">=</span> <span class="va">minimal_claims_data_xmpl</span>,</span></span>
<span class="r-in"><span>                                     indices <span class="op">=</span> <span class="va">indices_xmpl</span>,</span></span>
<span class="r-in"><span>                                     threshold <span class="op">=</span> <span class="fl">400000</span>,</span></span>
<span class="r-in"><span>                                     first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                     last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                     expected_year_of_growing_large <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                                     reserve_classes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">200001</span>, <span class="fl">400001</span>, <span class="fl">700001</span>, <span class="fl">1400001</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                     pool_of_annuities <span class="op">=</span> <span class="va">minimal_pool_of_annuities_xmpl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The claims with claim_ids Claim#43, Claim#44 and Claim#68 are identified as special claims.</span></span></span>
<span class="r-in"><span><span class="va">special_claims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Claim_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Claim#43"</span>, <span class="st">"Claim#44"</span>, <span class="st">"Claim#68"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Reserve2BE_percentage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.5</span>, <span class="fl">1.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Rollout_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"linear"</span>, <span class="st">"constant"</span>, <span class="st">"external"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Pattern_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">special_claims</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Claim_id Reserve2BE_percentage Rollout_type Pattern_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Claim#43                   0.8       linear          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Claim#44                   0.5     constant          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Claim#68                   1.2     external          3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">external_patterns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">external_patterns</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5 0.3 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># First example ignores annuities and reinsurance.</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">compute_special_claims</span><span class="op">(</span>special_claims <span class="op">=</span> <span class="va">special_claims</span>,</span></span>
<span class="r-in"><span>                                 extended_claims_data <span class="op">=</span> <span class="va">extended_claims_data</span>,</span></span>
<span class="r-in"><span>                                 first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                 last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                 end_of_tail <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                                 external_patterns <span class="op">=</span> <span class="va">external_patterns</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ special_claims_payments     : num [1:35, 1:285] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:285] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ special_claims_reserved     : 'xtabs' num [1:35, 1:35] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ Origin_year  : chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ Calendar_year: chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "call")= language xtabs(formula = substitute(i ~ j, list(i = as.name(col_name), j = quote(Origin_year +      Calendar_year))), data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ special_annuities_payments  : num [1:35, 1:285] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:285] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ special_annuities_reserved  : 'xtabs' num [1:35, 1:35] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ Origin_year  : chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ Calendar_year: chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "call")= language xtabs(formula = substitute(i ~ j, list(i = as.name(col_name), j = quote(Origin_year +      Calendar_year))), data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ special_ceded_quota_payments: num [1:35, 1:285] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:285] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ special_ceded_xl_payments   : num [1:35, 1:285] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:35] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:285] "1989" "1990" "1991" "1992" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">special_claims_payments</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2024"</span>, <span class="st">"2025"</span>, <span class="st">"2026"</span>, <span class="st">"2027"</span>, <span class="st">"2028"</span>, <span class="st">"2029"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           2024      2025     2026     2027     2028    2029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1989      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1990      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1991      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006  19094.48  18752.05 18409.61 18067.17 17724.73 17382.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2013      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2015      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2017      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2018      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019 242822.29 104066.70     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2020      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2021      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023      0.00      0.00     0.00     0.00     0.00     0.0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Second example also computes annuities for claim#43</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">compute_special_claims</span><span class="op">(</span>special_claims <span class="op">=</span> <span class="va">special_claims</span>,</span></span>
<span class="r-in"><span>                                 extended_claims_data <span class="op">=</span> <span class="va">extended_claims_data</span>,</span></span>
<span class="r-in"><span>                                 first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                 last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                 end_of_tail <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                                 external_patterns <span class="op">=</span> <span class="va">external_patterns</span>,</span></span>
<span class="r-in"><span>                                 active_annuities <span class="op">=</span> <span class="va">minimal_active_annuities_xmpl</span>,</span></span>
<span class="r-in"><span>                                 age_shift <span class="op">=</span> <span class="va">age_shift_xmpl</span>,</span></span>
<span class="r-in"><span>                                 mortality <span class="op">=</span> <span class="va">mortality_xmpl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">special_annuities_payments</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2024"</span>, <span class="st">"2025"</span>, <span class="st">"2026"</span>, <span class="st">"2027"</span>, <span class="st">"2028"</span>, <span class="st">"2029"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          2024     2025     2026     2027     2028     2029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1989     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1990     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1991     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006 12168.21 8678.269 6160.377 4352.512 3060.705 2142.111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2013     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2015     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2017     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2018     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2020     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2021     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023     0.00    0.000    0.000    0.000    0.000    0.000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Third example also computes reinsurance</span></span></span>
<span class="r-in"><span><span class="co"># Priority in 2019 is set to 100.000 to produce a positive xl portion</span></span></span>
<span class="r-in"><span><span class="va">reinsurance_xmpl</span><span class="op">[</span><span class="va">reinsurance_xmpl</span><span class="op">$</span><span class="va">Origin_year</span> <span class="op">==</span> <span class="fl">2019</span>, <span class="st">"Priority"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100000</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">compute_special_claims</span><span class="op">(</span>special_claims <span class="op">=</span> <span class="va">special_claims</span>,</span></span>
<span class="r-in"><span>                                 extended_claims_data <span class="op">=</span> <span class="va">extended_claims_data</span>,</span></span>
<span class="r-in"><span>                                 first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                 last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                 end_of_tail <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                                 external_patterns <span class="op">=</span> <span class="va">external_patterns</span>,</span></span>
<span class="r-in"><span>                                 active_annuities <span class="op">=</span> <span class="va">minimal_active_annuities_xmpl</span>,</span></span>
<span class="r-in"><span>                                 age_shift <span class="op">=</span> <span class="va">age_shift_xmpl</span>,</span></span>
<span class="r-in"><span>                                 mortality <span class="op">=</span> <span class="va">mortality_xmpl</span>,</span></span>
<span class="r-in"><span>                                 reinsurance <span class="op">=</span> <span class="va">reinsurance_xmpl</span>,</span></span>
<span class="r-in"><span>                                 indices <span class="op">=</span> <span class="va">indices_xmpl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">special_ceded_xl_payments</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2024"</span>, <span class="st">"2025"</span>, <span class="st">"2026"</span>, <span class="st">"2027"</span>, <span class="st">"2028"</span>, <span class="st">"2029"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          2024     2025 2026 2027 2028 2029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1989      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1990      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1991      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2013      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2015      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2017      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2018      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019 193753.2 82762.24    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2020      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2021      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022      0.0     0.00    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023      0.0     0.00    0    0    0    0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">special_ceded_quota_payments</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2024"</span>, <span class="st">"2025"</span>, <span class="st">"2026"</span>, <span class="st">"2027"</span>, <span class="st">"2028"</span>, <span class="st">"2029"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           2024      2025     2026     2027     2028     2029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1989     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1990     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1991     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1992     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1993     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1994     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1995     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2001     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2002     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2003     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2004     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2005     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2006  9378.809  8229.095 7370.996 6725.905 6235.632 5857.322</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2007     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2008     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2009     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2010     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2013     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2014     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2015     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2017     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2018     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2019 48564.459 20813.339    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2020     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2021     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022     0.000     0.000    0.000    0.000    0.000    0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023     0.000     0.000    0.000    0.000    0.000    0.000</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dirk Skowasch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

