<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate for future annuities stemming from small claims — generate_small_claims_future_annuities • sicr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate for future annuities stemming from small claims — generate_small_claims_future_annuities"><meta name="description" content="Payments for future annuities are an important part of the large claims simulation. But depending on the threshold
annuities may also be a part of the estimation for small claims. This could be the case if the annuity belongs to a
claim that has never exceeded the threshold or if the annuity has been created in the years before a claim
exceeds the threshold.
There may be several ways to estimate the future payments for this part. This implementation uses the historic
annuities that have been created for small claims to predict a number of future annuities per origin and development
year by an additive method. This number will then be multiplied with a mean annuity.
This function calculates the estimate for future annuities stemming from small claims using the parameters that
can either be generated by generate_small_claims_annuities_parameters() or have been delivered from external."><meta property="og:description" content="Payments for future annuities are an important part of the large claims simulation. But depending on the threshold
annuities may also be a part of the estimation for small claims. This could be the case if the annuity belongs to a
claim that has never exceeded the threshold or if the annuity has been created in the years before a claim
exceeds the threshold.
There may be several ways to estimate the future payments for this part. This implementation uses the historic
annuities that have been created for small claims to predict a number of future annuities per origin and development
year by an additive method. This number will then be multiplied with a mean annuity.
This function calculates the estimate for future annuities stemming from small claims using the parameters that
can either be generated by generate_small_claims_annuities_parameters() or have been delivered from external."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sicr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/sicr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate for future annuities stemming from small claims</h1>

      <div class="d-none name"><code>generate_small_claims_future_annuities.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Payments for future annuities are an important part of the large claims simulation. But depending on the threshold
annuities may also be a part of the estimation for small claims. This could be the case if the annuity belongs to a
claim that has never exceeded the threshold or if the annuity has been created in the years before a claim
exceeds the threshold. <br><br>
There may be several ways to estimate the future payments for this part. This implementation uses the historic
annuities that have been created for small claims to predict a number of future annuities per origin and development
year by an additive method. This number will then be multiplied with a mean annuity. <br><br>
This function calculates the estimate for future annuities stemming from small claims using the parameters that
can either be generated by <code><a href="generate_small_claims_annuities_parameters.html">generate_small_claims_annuities_parameters()</a></code> or have been delivered from external.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_small_claims_future_annuities</span><span class="op">(</span></span>
<span>  <span class="va">small_claims_annuities_parameters_list</span>,</span>
<span>  <span class="va">small_claims_reserved</span>,</span>
<span>  <span class="va">indices</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-small-claims-annuities-parameters-list">small_claims_annuities_parameters_list<a class="anchor" aria-label="anchor" href="#arg-small-claims-annuities-parameters-list"></a></dt>
<dd><p>List of parameter vectors as a result of
<code><a href="generate_small_claims_annuities_parameters.html">generate_small_claims_annuities_parameters()</a></code>.</p></dd>


<dt id="arg-small-claims-reserved">small_claims_reserved<a class="anchor" aria-label="anchor" href="#arg-small-claims-reserved"></a></dt>
<dd><p>Numeric matrix of small claims reserves with origin years as rows and calendar
years as columns. This matrix can be generated as difference from the all claims' triangle and the large and special
claims triangle. Rownames must be the origin years. The reserves serve as volume measure for the additive method.</p></dd>


<dt id="arg-indices">indices<a class="anchor" aria-label="anchor" href="#arg-indices"></a></dt>
<dd><p>Dataframe for indexation, see details of <code><a href="prepare_data.html">prepare_data()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric matrix with one row per origin year and one column for each past and 250 future calendar years.
The columns for past calendar years are all 0, but the columns for future calendar years contain the estimated
payments for future annuities stemming from small claims.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#' # this example uses data provided with this package.</span></span></span>
<span class="r-in"><span><span class="co"># A few preparing steps are necessary to generate the needed arguments from the example</span></span></span>
<span class="r-in"><span><span class="co"># objects provided with this package.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The claims with claim_ids Claim#43, Claim#44 and Claim#68 are identified as special claims.</span></span></span>
<span class="r-in"><span><span class="va">special_claims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Claim_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Claim#43"</span>, <span class="st">"Claim#44"</span>, <span class="st">"Claim#68"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Reserve2BE_percentage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.5</span>, <span class="fl">1.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Rollout_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"linear"</span>, <span class="st">"constant"</span>, <span class="st">"external"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             Pattern_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">external_patterns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create large claims list</span></span></span>
<span class="r-in"><span><span class="va">extended_claims_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_data</a></span><span class="op">(</span>claims_data <span class="op">=</span> <span class="va">claims_data_xmpl</span>,</span></span>
<span class="r-in"><span>                                     indices <span class="op">=</span> <span class="va">indices_xmpl</span>,</span></span>
<span class="r-in"><span>                                     threshold <span class="op">=</span> <span class="fl">400000</span>,</span></span>
<span class="r-in"><span>                                     first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                     last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                     expected_year_of_growing_large <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                                     reserve_classes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">200001</span>, <span class="fl">400001</span>, <span class="fl">700001</span>, <span class="fl">1400001</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                     pool_of_annuities <span class="op">=</span> <span class="va">pool_of_annuities_xmpl</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># remove special claims from extended_claims_data</span></span></span>
<span class="r-in"><span><span class="va">extended_large_claims_data</span> <span class="op">&lt;-</span> <span class="va">extended_claims_data</span><span class="op">[</span></span></span>
<span class="r-in"><span>               <span class="va">extended_claims_data</span><span class="op">$</span><span class="va">Claim_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">special_claims</span><span class="op">$</span><span class="va">Claim_id</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">large_claims_reserved</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_triangle.html">generate_triangle</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">extended_large_claims_data</span>,</span></span>
<span class="r-in"><span>                                                    col_name <span class="op">=</span> <span class="st">"Cl_reserve"</span>,</span></span>
<span class="r-in"><span>                                                    first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                                    last_orig_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">large_claims_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_claims_list.html">generate_claims_list</a></span><span class="op">(</span>extended_claims_data <span class="op">=</span> <span class="va">extended_claims_data</span>,</span></span>
<span class="r-in"><span>                                          first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                          last_orig_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result_special_claims</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_special_claims.html">compute_special_claims</a></span><span class="op">(</span>special_claims <span class="op">=</span> <span class="va">special_claims</span>,</span></span>
<span class="r-in"><span>                                                extended_claims_data <span class="op">=</span> <span class="va">extended_claims_data</span>,</span></span>
<span class="r-in"><span>                                                first_orig_year <span class="op">=</span> <span class="fl">1989</span>,</span></span>
<span class="r-in"><span>                                                last_orig_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                                end_of_tail <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                                                external_patterns <span class="op">=</span> <span class="va">external_patterns</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">special_claims_reserved</span> <span class="op">&lt;-</span> <span class="va">result_special_claims</span><span class="op">$</span><span class="va">special_claims_reserved</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">small_claims_reserved</span> <span class="op">&lt;-</span> <span class="va">all_claims_reserved_xmpl</span> <span class="op">-</span></span></span>
<span class="r-in"><span>                     <span class="va">large_claims_reserved</span> <span class="op">-</span> <span class="va">special_claims_reserved</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># apply these objects as arguments to the function to create parameters</span></span></span>
<span class="r-in"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_small_claims_annuities_parameters.html">generate_small_claims_annuities_parameters</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>               pool_of_annuities <span class="op">=</span> <span class="va">pool_of_annuities_xmpl</span>,</span></span>
<span class="r-in"><span>               large_claims_list <span class="op">=</span> <span class="va">large_claims_list</span>,</span></span>
<span class="r-in"><span>               special_claims <span class="op">=</span> <span class="va">special_claims</span>,</span></span>
<span class="r-in"><span>               indices <span class="op">=</span> <span class="va">indices_xmpl</span>,</span></span>
<span class="r-in"><span>               small_claims_reserved <span class="op">=</span> <span class="va">small_claims_reserved</span>,</span></span>
<span class="r-in"><span>               age_shift <span class="op">=</span> <span class="va">age_shift_xmpl</span>,</span></span>
<span class="r-in"><span>               mortality <span class="op">=</span> <span class="va">mortality_xmpl</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use this parameter list to get the estimate</span></span></span>
<span class="r-in"><span><span class="fu">generate_small_claims_future_annuities</span><span class="op">(</span></span></span>
<span class="r-in"><span>   small_claims_annuities_parameters_list <span class="op">=</span> <span class="va">params</span>,</span></span>
<span class="r-in"><span>   small_claims_reserved <span class="op">=</span> <span class="va">small_claims_reserved</span>,</span></span>
<span class="r-in"><span>   indices <span class="op">=</span> <span class="va">indices_xmpl</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022"</span>, <span class="st">"2023"</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1989 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2019 2020 2021 2022 2023     2024     2025      2026     2027     2028</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022    0    0    0    0    0 388.0534 814.7829  934.5885 1134.306 1324.307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023    0    0    0    0    0 262.4130 678.4143 1140.5622 1252.907 1461.106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          2029     2030     2031      2032      2033     2034     2035      2036</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022 1488.774 1361.555 1165.465  987.6423  972.0039 1106.229 1104.066  942.8759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023 1656.660 1852.540 1689.309 1445.1893 1226.2003 1197.092 1347.884 1339.2046</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           2037     2038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2022  798.2616 679.8942</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2023 1143.8759 973.4164</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dirk Skowasch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

